\section{\textbf{Preconditions of Rename Package Refactoring}}
Rename Package Refactoring (RpR) changes the name of the package and all references to that package to the new name without changing its behavior. There is one precondition required for RpR.

The target package name cannot be duplicate with any existing package name within the same source folder. However, we can run RpR with same package name from different Java folders.

From Fig. \ref{fig:RpR}(a), there are two packages in one source folder. When we apply RpR from $q$ to $p$ as shown in Fig. \ref{fig:RpR}(b), the Java compiler produces an error ``Package already exists''. This is because a package p already exist in the same source folder. 

\begin{figure}[th]
\centering
\begin{minipage}[t]{0.45\linewidth}
\begin{lstlisting}[language=java, basicstyle=\scriptsize\ttfamily,frame=single]
//A.java
package p;

class A {}
	
class B {}


//M.java
package q;

class M {}	

class N {}
\end{lstlisting}
\centering{(a) Before}
\end{minipage}
\hfill
\begin{minipage}[t]{0.45\linewidth}
\begin{lstlisting}[language=java, basicstyle=\scriptsize\ttfamily,frame=single]
//A.java
package p;

class A {}
	
class B {}


//M.java
package p;

class M {}	

class N {}


\end{lstlisting}
\centering{(b)After}
\end{minipage}
\caption{\textbf{Rename Refactoring Package q to p}}
\label{fig:RpR}
\end{figure}

Therefore, it is essential to pre-check that the new name of package is not duplicate with any existing package name within same folder.